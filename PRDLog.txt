# Nowa - AI 辅助任务与目标管理系统 PRD

## 1. 产品概述

Nowa 是一款基于 AI 的任务和目标管理应用，它帮助用户管理日常任务，设定长期目标，并通过 AI 分析提供个性化建议。该产品采用现代化 Web 技术栈构建，提供直观易用的界面和强大的功能。

### 1.1 产品定位

- **目标用户**：需要有效管理时间、任务和目标的个人用户
- **核心价值**：结合 AI 技术，提供个性化的任务管理体验
- **品牌特色**：简洁、直观的界面，帮助用户保持专注和组织性

### 1.2 技术栈

- **前端**：Next.js 14.1.0 (App Router) + TypeScript + React 18.2.0
- **UI组件**：Radix UI + Tailwind CSS
- **状态管理**：Zustand 4.5.1
- **拖拽功能**：React Beautiful DnD 13.1.1
- **日期处理**：date-fns 3.3.1
- **AI服务**：DeepSeek API (替代原型)

## 2. 用户界面与体验

### 2.1 整体布局

应用采用现代双栏式布局，符合当代任务管理工具的直观设计模式：

- **左侧边栏**：导航栏，包含默认分类列表和用户自定义列表
- **主内容区**：展示任务或目标列表，根据左侧选择的列表切换内容

### 2.2 配色方案

UI 使用柔和的色彩方案，不同类型的列表有特定的主题色：

- **今日任务**：
  - 背景色：#EBF5FF (蓝色背景 - bg-blue-50)
  - 文本色：#1E40AF (蓝色文本 - text-blue-800)
  - 边框色：#BFDBFE (蓝色边框 - border-blue-200)
  - 按钮色：#93C5FD (蓝色按钮 - bg-blue-300)
  - 悬停色：#60A5FA (蓝色悬停 - hover:bg-blue-400)

- **重要任务**：
  - 背景色：#FEF2F2 (红色背景 - bg-red-50)
  - 文本色：#991B1B (红色文本 - text-red-800)
  - 边框色：#FECACA (红色边框 - border-red-200)
  - 按钮色：#FCA5A5 (红色按钮 - bg-red-300)
  - 悬停色：#F87171 (红色悬停 - hover:bg-red-400)

- **所有任务**：
  - 背景色：#F0FDF4 (绿色背景 - bg-green-50)
  - 文本色：#166534 (绿色文本 - text-green-800)
  - 边框色：#BBF7D0 (绿色边框 - border-green-200)
  - 按钮色：#86EFAC (绿色按钮 - bg-green-300)
  - 悬停色：#4ADE80 (绿色悬停 - hover:bg-green-400)

- **目标**：
  - 背景色：#F5F3FF (紫色背景 - bg-purple-50)
  - 文本色：#5B21B6 (紫色文本 - text-purple-800)
  - 边框色：#E9D5FF (紫色边框 - border-purple-200)
  - 按钮色：#D8B4FE (紫色按钮 - bg-purple-300)
  - 悬停色：#C084FC (紫色悬停 - hover:bg-purple-400)

- **自定义列表**：
  - 背景色：#F9FAFB (灰色背景 - bg-gray-50)
  - 文本色：#1F2937 (灰色文本 - text-gray-800)
  - 边框色：#E5E7EB (灰色边框 - border-gray-200)
  - 按钮色：#D1D5DB (灰色按钮 - bg-gray-300)
  - 悬停色：#9CA3AF (灰色悬停 - hover:bg-gray-400)

### 2.3 响应式设计

应用采用响应式设计原则，适应不同屏幕尺寸：

- **桌面端**：完整的双栏布局
- **平板端**：可折叠的侧边栏
- **移动端**：优先显示任务列表，侧边栏通过菜单按钮折叠显示

### 2.4 设计系统规范

#### 2.4.1 字体规范

- **字体族**：系统字体堆栈
  ```css
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"
  ```

- **字号规范**：
  - 页面标题：20px (text-xl)
  - 卡片标题：16px (text-base)
  - 正文内容：14px (text-sm)
  - 辅助文本：12px (text-xs)
  - 按钮文本：14px (text-sm)

- **字重规范**：
  - 标题：font-medium (500)
  - 正文：font-normal (400)
  - 强调：font-semibold (600)
  - 按钮：font-medium (500)

#### 2.4.2 间距与布局规范

- **基础单位**：4px
- **内边距规范**：
  - 边栏内边距：16px (p-4)
  - 卡片内边距：12px (p-3)
  - 输入框内边距：8px水平，6px垂直 (px-2 py-1.5)
  - 按钮内边距：8px水平，6px垂直 (px-2 py-1.5)

- **外边距规范**：
  - 组件间距：16px (my-4)
  - 分组标题下边距：8px (mb-2)
  - 卡片间距：12px (my-3)

- **圆角规范**：
  - 卡片圆角：8px (rounded-lg)
  - 按钮圆角：6px (rounded-md)
  - 输入框圆角：6px (rounded-md)
  - 全圆角：9999px (rounded-full)

- **阴影规范**：
  - 卡片阴影：shadow-sm (小阴影)
  - 侧边栏阴影：shadow-lg (大阴影)
  - 模态框阴影：shadow-xl (特大阴影)
  - 悬浮阴影：shadow-md (中等阴影)

#### 2.4.3 交互与动效规范

- **状态变化**：
  - 悬停过渡：150ms (transition-colors duration-150)
  - 颜色过渡：透明度和背景色同时变化
  - 尺寸过渡：缩放效果 (transform scale)

- **动画效果**：
  - 模态框出现：淡入上移 (fade-in-up)
  - 任务完成：淡出并有勾选动画 (200ms)
  - 展开/折叠：滑动展开/折叠 (150ms)
  - 拖拽反馈：半透明效果和位置指示

- **加载状态**：
  - 旋转图标动画 (Spinner)
  - 按钮加载状态：文本替换为旋转图标
  - 页面加载：顶部进度条

#### 2.4.4 图标规范

- **图标库**：Lucide React
- **图标尺寸**：
  - 导航图标：18px
  - 操作按钮图标：16px
  - 状态指示图标：14px
  - 大型UI元素图标：20px

- **图标颜色**：
  - 主要图标：与当前主题色匹配
  - 次要图标：灰色系 (#6B7280 - text-gray-500)
  - 交互图标：悬停时加深颜色

## 3. 核心功能模块

### 3.1 用户配置模块

#### 3.1.1 用户资料

用户可以设置个人资料，包含多个选项卡：

- **基本资料**
  - 体重、身高等基本信息
  - 兴趣爱好
  - 个性特点（可选预设选项或自定义）
  - 个人目标
  - 笔记

- **工作偏好**
  - 工作风格（分析型、创造型等）
  - 高效工作时段（早晨、下午等）

- **学习偏好**
  - 学习类型（视觉型、听觉型等）
  - 挑战领域（专注力、时间管理等）

- **优先级偏好**
  - 效率、质量、创造力的权重分配（滑块控制）

#### 3.1.2 用户状态

用户可以设置当前状态：
- 工作中、学习中、休息中等选项
- 状态显示在侧边栏上方，包含相应图标
- 状态在每天 24:00 自动重置

### 3.2 任务管理模块

#### 3.2.1 任务列表视图

- **预定义列表**
  - 今日任务：显示今天待办的任务
  - 重要任务：标记为重要的任务
  - 所有任务：所有未完成的任务
  - 已完成：已完成的任务历史记录

- **自定义列表**
  - 用户可创建自定义名称的任务列表
  - 每个列表显示未完成任务数量
  - 可以对列表重命名或删除

#### 3.2.2 任务功能

- **任务创建**
  - 快速添加：直接输入任务标题创建基本任务
  - 任务编辑：可编辑任务标题、描述、到期日、优先级等

- **任务操作**
  - 完成/取消完成任务
  - 标记/取消标记重要任务
  - 删除任务
  - 修改任务属性

- **任务分组与排序**
  - 按日期分组：今天、已过期、未来、无日期
  - 按优先级排序：重要任务优先显示
  - 支持拖拽重新排序

- **任务详情**
  - 详细描述
  - 子任务管理
  - 反馈记录
  - 关联目标

- **AI 任务建议**
  - 基于任务标题和用户资料生成任务建议
  - 提供多个备选建议方案
  - 选择后生成详细计划，包括子任务

### 3.3 目标管理模块

#### 3.3.1 目标列表

- **目标视图**
  - 目标卡片展示，包含进度条
  - 按重要性和创建时间排序
  - 支持拖拽重新排序

#### 3.3.2 目标功能

- **目标创建**
  - 基本创建：设置目标标题
  - AI 辅助创建：AI 分析目标并提供建议

- **关键结果 (Key Results)**
  - 为目标添加可量化的关键结果
  - 跟踪关键结果完成状态
  - 基于关键结果自动计算目标进度

- **AI 目标完善**
  - 目标分析与建议
  - 任务生成
  - 时间规划
  - 多轮对话调整

- **目标状态**
  - 进行中
  - 已完成
  - 已取消

### 3.4 日常总结模块

#### 3.4.1 昨日总结

- **完成情况统计**
  - 显示昨日任务完成率
  - 分析任务完成模式

- **反馈分析**
  - 基于任务反馈提取健康状况、进度、挑战等洞察
  - 显示关键信息提示

#### 3.4.2 今日评估

- **今日任务完成情况**
  - 已完成任务统计
  - 未完成任务提示

- **建议与展望**
  - 基于今日完成情况提供建议
  - 针对个人模式提供改进方向

- **邮件分享**
  - 支持将总结通过邮件发送
  - 自动生成格式化的总结内容

### 3.5 用户状态与反馈

#### 3.5.1 任务反馈

- 允许用户为任务添加文字反馈
- 反馈带有时间戳记录
- 反馈内容用于 AI 分析和任务建议

#### 3.5.2 状态提示

- 操作成功/失败的视觉反馈
- 加载状态指示
- 错误信息提示

## 4. 数据模型设计

### 4.1 用户相关

```typescript
interface User {
  nickname: string;                // 用户昵称
  tags: string[];                  // 用户标签
}

interface UserProfile {
  weight?: string;                 // 用户体重
  height?: string;                 // 用户身高
  personality?: string[];          // 个性特点
  interests?: string[];            // 兴趣爱好
  hobbies?: string[];              // 用户爱好
  goals?: string[];                // 个人目标
  notes?: string;                  // 附加说明
  workStyle?: string[];            // 工作风格
  productivityPeaks?: string[];    // 高效时段
  learningPreferences?: string[];  // 学习偏好
  challengeAreas?: string[];       // 挑战领域
  priorityFocus?: {                // 优先级偏好
    efficiency: number;            // 效率权重(1-10)
    quality: number;               // 质量权重(1-10)
    creativity: number;            // 创造力权重(1-10)
  };
}
```

### 4.2 任务相关

```typescript
interface Task {
  id: string;                                     // 任务唯一ID
  title: string;                                  // 任务标题
  description?: string;                           // 任务描述(可选)
  dueDate?: string;                               // 到期日期(ISO格式)
  status: 'pending' | 'completed' | 'cancelled';  // 任务状态
  priority: 'low' | 'medium' | 'high';            // 优先级
  important: boolean;                             // 是否重要
  goalId?: string;                                // 关联目标ID(可选)
  taskListId: string;                             // 所属列表ID
  feedback?: { text: string; timestamp: string }[]; // 反馈记录
  subtasks?: Subtask[];                           // 子任务列表
  completedAt?: string;                           // 完成时间戳
}

interface Subtask {
  id: string;                                     // 子任务ID
  title: string;                                  // 子任务标题
  completed: boolean;                             // 是否完成
}

interface TaskList {
  id: string;                                     // 列表ID
  name: string;                                   // 列表名称
  description?: string;                           // 列表描述
}
```

### 4.3 目标相关

```typescript
interface Goal {
  id: string;                                     // 目标ID
  title: string;                                  // 目标标题
  description?: string;                           // 目标描述
  dueDate?: string;                               // 到期日期
  progress: number;                               // 进度百分比(0-100)
  status: 'active' | 'completed' | 'cancelled';   // 目标状态
  taskIds: string[];                              // 关联任务ID列表
  order?: number;                                 // 排序序号
  curation?: string;                              // AI生成的目标完善建议
  aiGenerated?: boolean;                          // 是否由AI生成
  lastUpdated?: string;                           // 最后更新时间
}

interface KeyResult {
  id: string;                                     // 关键结果ID
  goalId: string;                                 // 所属目标ID
  title: string;                                  // 关键结果标题
  status: 'pending' | 'completed';                // 完成状态
}

interface GoalTask {
  id: string;                                     // 目标任务ID
  title: string;                                  // 任务标题
  description?: string;                           // 描述
  timeline?: string;                              // 时间线建议
  completed: boolean;                             // 是否完成
  priority: 'high' | 'medium' | 'low';            // 优先级
}
```

## 5. 交互流程

### 5.1 任务管理流程

1. **创建任务**
   - 用户在任务列表页面输入任务标题
   - 点击添加按钮或按回车键创建任务
   - 系统创建基本任务并添加到列表

2. **编辑任务**
   - 点击任务进入详情模式
   - 编辑详情信息(描述、到期日、优先级等)
   - 保存更改自动更新任务

3. **任务状态变更**
   - 点击任务前的复选框标记完成/未完成
   - 任务完成后显示删除线样式，移至已完成列表底部
   - 标记重要任务会优先排序显示

4. **AI 任务建议**
   - 点击任务右侧的 AI 按钮请求建议
   - 系统基于任务标题和用户资料生成多个建议选项
   - 用户选择喜欢的建议方案
   - 系统生成详细计划并添加子任务

### 5.2 目标管理流程

1. **创建目标**
   - 用户点击添加目标按钮
   - 输入目标标题
   - 选择是否使用 AI 辅助创建

2. **AI 辅助目标创建**
   - 系统分析目标内容
   - 提出澄清问题(多选问答方式)
   - 生成任务建议
   - 提供时间规划

3. **管理关键结果**
   - 添加关键结果作为目标的量化指标
   - 标记关键结果完成状态
   - 自动计算整体目标进度

4. **目标反馈循环**
   - 提供目标反馈
   - AI 分析反馈并提供调整建议
   - 多轮交互完善目标

### 5.3 日常总结流程

1. **查看昨日总结**
   - 在"我的一天"页面点击"昨日总结"
   - 系统显示昨日任务完成情况和统计数据
   - 展示从任务反馈中提取的洞察

2. **评估今日完成情况**
   - 点击"评估今天"按钮
   - 系统显示今日完成情况和建议
   - 可选择通过邮件发送总结

## 6. UI/UX 设计细节

### 6.1 侧边栏

- **顶部用户区域**
  - 高度：60px
  - 背景色：白色 (#FFFFFF)
  - 用户昵称：16px，字重500
  - 当前状态图标：16px，左对齐与文本间距8px
  - 下拉菜单箭头：12px，灰色 (#9CA3AF)
  - 间距：顶部与内容区之间内边距16px

- **默认列表区域**
  - 列表项高度：40px
  - 图标与文本间距：12px
  - 选中状态：左侧3px宽彩色指示条，背景淡色 (对应主题色10%透明度)
  - 悬停状态：背景色变化 (透明度从0%到5%)
  - 图标尺寸与颜色：
    - 目标图标：18px，紫色 (#8B5CF6)
    - 今日图标：18px，蓝色 (#3B82F6)
    - 重要图标：18px，红色 (#EF4444)
    - 所有任务图标：18px，绿色 (#10B981)
    - 已完成图标：18px，灰色 (#6B7280)

- **自定义列表区域**
  - 计数器：12px，灰色背景圆形 (#F3F4F6)，内部数字深灰色 (#4B5563)
  - 添加列表按钮：40px高，居中对齐
  - 添加列表图标：Plus，14px，灰色 (#6B7280)
  - 新建列表输入框：高32px，内边距水平12px，圆角6px，边框1px (#E5E7EB)
  - 确认/取消按钮：宽度各36px，高度26px

- **底部设置区域**
  - 区域高度：50px
  - 上边框：1px线条 (#F3F4F6)
  - 图标尺寸：18px
  - 图标间距：16px
  - 图标颜色：深灰色 (#4B5563)
  - 悬停效果：图标颜色变深 (#1F2937)

### 6.2 任务列表界面

- **页面标题栏**
  - 高度：60px
  - 底部边框：1px (#F3F4F6)
  - 标题字号：20px (text-xl)
  - 日期文本：14px，灰色 (#6B7280)
  - 总结按钮组：
    - 高度：30px
    - 内边距：水平12px，垂直6px
    - 圆角：9999px (rounded-full)
    - 图标尺寸：14px
    - 图标与文字间距：4px
    - 蓝色按钮：背景 #DBEAFE，文字 #1E40AF
    - 绿色按钮：背景 #DCFCE7，文字 #166534

- **任务输入区**
  - 高度：44px
  - 圆角：8px (rounded-lg)
  - 边框：1px (#E5E7EB)
  - 聚焦状态：边框颜色变化为主题色
  - 内边距：水平16px，垂直10px
  - 输入框字号：14px
  - 添加按钮：灰色 (#9CA3AF)，悬停时变深
  - 添加按钮大小：16px

- **任务项**
  - 高度：单行48px，多行自适应
  - 内边距：水平12px，垂直10px
  - 边框：底部1px (#F3F4F6)
  - 悬停背景：淡灰色 (#F9FAFB)
  - 复选框：18px，边框圆角4px，勾选动画150ms
  - 任务标题与复选框间距：12px
  - 任务标题字号：14px
  - 已完成任务：删除线，灰色 (#9CA3AF)
  - 到期日徽章：
    - 内边距：水平8px，垂直4px
    - 背景：淡灰色 (#F3F4F6)
    - 字体：12px，灰色 (#6B7280)
    - 圆角：9999px (rounded-full)
  - 重要标记：星形图标，16px，黄色 (#FBBF24)
  - 操作按钮：
    - 隐藏状态，悬停任务项时显示
    - 图标尺寸：16px
    - 图标间距：8px
    - 图标颜色：灰色 (#6B7280)

- **分组标题**
  - 日期分组(今天、已过期、未来、无日期)
  - 分组折叠/展开控制
  - 高度：32px
  - 字体：12px，粗体，灰色 (#6B7280)
  - 底部边距：8px
  - 折叠图标：ChevronDown/ChevronUp，14px

### 6.3 目标列表界面

- **目标输入区**
  - 与任务输入区样式一致
  - 清晰的边框区分：1px (#E5E7EB)
  - 占位符文本："创建新目标..."

- **目标卡片**
  - 背景：白色 (#FFFFFF)
  - 圆角：8px (rounded-lg)
  - 阴影：shadow-sm (小阴影)
  - 内边距：16px
  - 外边距：底部16px
  - 标题字号：16px，字重500
  - 进度条：
    - 高度：6px
    - 圆角：9999px (rounded-full)
    - 背景：淡紫色 (#F3E8FF)
    - 进度指示：紫色 (#8B5CF6)
    - 上下边距：12px
  - 关键结果列表：
    - 行高：36px
    - 复选框与文本间距：12px
    - 复选框样式：16px，圆角4px
    - 完成状态：删除线，灰色文本
  - 展开/折叠按钮：
    - 居中放置
    - 图标：ChevronDown/ChevronUp，14px
    - 颜色：灰色 (#9CA3AF)
  - 操作按钮：
    - 位置：右上角
    - 显示规则：常驻或悬停时显示
    - 图标大小：16px
    - 图标间距：8px

- **AI 辅助区域**
  - 背景：淡紫色 (#F5F3FF)
  - 圆角：8px (rounded-lg)
  - 内边距：16px
  - 顶部图标：Sparkles，18px，紫色 (#8B5CF6)
  - 分析结果文本：14px，灰色 (#4B5563)
  - 问答交互界面：
    - 问题字体：14px，加粗
    - 选项间距：8px
    - 选项样式：圆角6px，边框1px，选中状态背景变化
  - 任务建议列表：
    - 边框：1px (#E5E7EB)
    - 行高：40px
    - 优先级指示：彩色圆点 (高-红色，中-黄色，低-蓝色)
  - 时间规划建议：
    - 背景：白色
    - 边框：1px (#E5E7EB)
    - 内边距：12px
    - 日期格式：粗体强调

### 6.4 任务详情模态框

- **整体规格**：
  - 宽度：500px
  - 高度：自适应(最大80vh)
  - 背景：白色 (#FFFFFF)
  - 圆角：12px (rounded-xl)
  - 阴影：shadow-xl
  - 动画：渐入(300ms)

- **标题区域**
  - 高度：60px
  - 内边距：水平24px，垂直16px
  - 字体：18px，字重500
  - 边框：底部1px (#F3F4F6)
  - 关闭按钮：
    - 图标：X，16px
    - 位置：右侧距离16px
    - 悬停效果：背景圆形淡灰色

- **详情区域**
  - 内边距：24px
  - 各元素垂直间距：16px
  - 标签文本：12px，灰色 (#6B7280)
  - 描述输入框：
    - 高度：100px (min-height)
    - 内边距：12px
    - 字体：14px
    - 边框：1px (#E5E7EB)
    - 圆角：6px (rounded-md)
  - 到期日选择器：
    - 日历图标：16px
    - 日期格式：14px
    - 清除按钮：X，12px，灰色
  - 优先级选择器：
    - 单选样式
    - 高优先级：红色标签
    - 中优先级：黄色标签
    - 低优先级：蓝色标签
  - 重要标记开关：
    - 星形图标：16px
    - 开启状态：黄色填充 (#FBBF24)
    - 关闭状态：灰色轮廓 (#D1D5DB)
  - 关联目标选择器：
    - 下拉样式
    - 图标：Target，16px
    - 选中状态：目标名称+紫色指示

- **子任务区域**
  - 标题：16px，字重500
  - 子任务列表：
    - 行高：40px
    - 复选框：16px
    - 完成效果：删除线+灰色
    - 删除按钮：悬停显示，Trash2，14px
  - 添加子任务：
    - 图标：Plus，14px
    - 输入框高度：36px
    - 边框：1px虚线 (#E5E7EB)
    - 圆角：6px

- **反馈区域**
  - 反馈历史卡片：
    - 圆角：8px (rounded-lg)
    - 背景：淡灰色 (#F9FAFB)
    - 内边距：12px
    - 时间戳：12px，灰色，右对齐
    - 内容字体：14px
  - 添加反馈：
    - 输入框高度：80px
    - 提交按钮：
      - 文本：添加反馈
      - 图标：MessageSquare，14px
      - 背景：主题色
      - 文字：白色

### 6.5 日常总结模态框

- **整体规格**：
  - 宽度：600px
  - 高度：自适应(最大85vh)
  - 背景：白色 (#FFFFFF)
  - 圆角：12px (rounded-xl)
  - 阴影：shadow-xl
  - 内边距：24px

- **标题区域**
  - 高度：60px
  - 字体：20px，字重600
  - 日期显示：14px，灰色 (#6B7280)
  - 关闭按钮：X，16px，绝对定位右上角

- **统计区域**
  - 环形进度图：
    - 直径：80px
    - 线宽：8px
    - 完成率高：绿色 (#10B981)
    - 完成率中：黄色 (#F59E0B)
    - 完成率低：红色 (#EF4444)
  - 完成率文本：
    - 中心数字：24px，字重600
    - 标签文本：14px，灰色
  - 任务数统计：
    - 字体：16px
    - 图标：CheckCircle2，16px
    - 强调色：与完成率颜色匹配

- **详情区域**
  - 背景：淡灰色 (#F9FAFB)
  - 圆角：8px (rounded-lg)
  - 内边距：16px
  - 分类标题：16px，字重500
  - 任务列表：
    - 行高：36px
    - 复选框：16px，对应状态
    - 完成任务：删除线，灰色 (#9CA3AF)
    - 任务标题字体：14px

- **洞察区域**
  - 卡片式设计：
    - 圆角：8px (rounded-lg)
    - 边框：1px (#E5E7EB)
    - 内边距：16px
  - 洞察标题：
    - 图标：Lightbulb，16px
    - 文本：16px，字重500
  - 洞察内容：
    - 图标前缀：Circle，8px
    - 文本字体：14px
    - 行间距：12px

- **操作区域**
  - 发送邮件按钮：
    - 高度：40px
    - 内边距：水平16px
    - 图标：Mail，16px
    - 文字：14px，字重500
    - 背景：主题色
    - 文字：白色 (#FFFFFF)
    - 圆角：6px (rounded-md)
  - 状态提示：
    - 成功：绿色文本 (#10B981)
    - 错误：红色文本 (#EF4444)
    - 加载：旋转动画

### 6.6 详细组件选项规范

#### 6.6.1 任务详情区组件

- **任务状态选项**
  - 选项列表：
    - 待处理 (pending)：默认状态
    - 已完成 (completed)：显示绿色对勾
    - 已取消 (cancelled)：显示灰色删除线
  - 样式规范：
    - 容器：下拉菜单，宽度120px
    - 选中状态：左侧带有对应状态图标
    - 待处理：圆形空心图标 (#E5E7EB)
    - 已完成：绿色对勾图标 (#10B981)
    - 已取消：灰色X图标 (#6B7280)

- **任务优先级选项**
  - 选项列表：
    - 低优先级 (low)：蓝色标识
    - 中优先级 (medium)：黄色标识，默认值
    - 高优先级 (high)：红色标识
  - 样式规范：
    - 容器：单选按钮组，并列排布
    - 按钮间距：8px
    - 低优先级：背景 #DBEAFE，边框 #93C5FD，文字 #1E40AF
    - 中优先级：背景 #FEF3C7，边框 #FCD34D，文字 #92400E
    - 高优先级：背景 #FEE2E2，边框 #FCA5A5，文字 #991B1B
    - 选中状态：边框加粗2px
    - 文本：居中，14px，字重500

- **日期选择器**
  - 选项类型：日历弹窗
  - 样式规范：
    - 触发按钮：带日历图标，14px，灰色（#6B7280）
    - 日历弹窗：宽度280px，shadow-md
    - 月份导航：顶部居中，左右箭头控制
    - 周标题行：周一至周日，灰色文本 (#6B7280)
    - 日期单元：36px方形，悬停效果：背景淡蓝
    - 选中日期：蓝色背景 (#3B82F6)，白色文本
    - 今日指示：蓝色边框
    - 其他月份日期：淡灰色 (#D1D5DB)

#### 6.6.2 任务列表组件

- **任务分组选项**
  - 选项列表：
    - 今天
    - 已过期
    - 未来
    - 无日期
  - 样式规范：
    - 分组标题：12px，字重600，灰色 (#6B7280)
    - 分组内边距：顶部12px，底部4px
    - 折叠状态图标：ChevronDown/ChevronUp，14px
    - 分组计数：灰色圆括号包含数字

- **任务过滤选项**
  - 选项列表：
    - 全部任务
    - 已完成
    - 未完成
    - 按日期降序
    - 按日期升序
    - 按优先级
  - 样式规范：
    - 过滤器下拉菜单：右侧对齐
    - 菜单宽度：160px
    - 选项高度：36px
    - 选中状态：左侧显示对勾图标
    - 图标与文本间距：8px

#### 6.6.3 用户状态组件

- **状态选项列表**
  - 选项明细：
    - 工作中：黄色闪电图标 (#FBBF24)
    - 学习中：蓝色书本图标 (#3B82F6)
    - 喝咖啡：褐色咖啡图标 (#92400E)
    - 听音乐：紫色音乐图标 (#8B5CF6)
    - 放松中：绿色笑脸图标 (#10B981)
    - 睡觉中：深蓝色月亮图标 (#4338CA)
  - 样式规范：
    - 弹出菜单：宽度180px
    - 选项行高：40px
    - 图标大小：16px
    - 图标与文本间距：12px
    - 悬停效果：淡灰色背景 (#F3F4F6)
    - 选中效果：左侧蓝色竖条指示

- **状态展示样式**
  - 位置：侧边栏顶部用户信息下
  - 文本颜色：取决于当前状态对应颜色
  - 图标与文本组合展示
  - 边框：1px圆角边框，颜色与状态匹配
  - 内边距：水平8px，垂直3px
  - 字体大小：12px

#### 6.6.4 目标管理组件

- **目标状态选项**
  - 选项列表：
    - 进行中 (active)：默认状态
    - 已完成 (completed)：显示完成标识
    - 已取消 (cancelled)：显示取消标识
  - 样式规范：
    - 下拉菜单：宽度120px
    - 选中项背景：淡紫色 (#F5F3FF)
    - 进行中：紫色状态点 (#8B5CF6)
    - 已完成：绿色状态点 (#10B981)
    - 已取消：灰色状态点 (#6B7280)

- **目标展示选项**
  - 选项列表：
    - 卡片视图（默认）
    - 列表视图
  - 样式规范：
    - 切换按钮组：右上角对齐
    - 卡片图标：Grid，16px
    - 列表图标：List，16px
    - 选中状态：深色背景，白色图标
    - 按钮高度：30px

#### 6.6.5 AI相关组件

- **AI建议选项**
  - 选项类型：卡片选择
  - 样式规范：
    - 卡片数量：3个
    - 卡片宽度：100%，等分排列
    - 卡片高度：自适应，最小120px
    - 卡片间距：12px
    - 背景色：白色 (#FFFFFF)
    - 边框：1px (#E5E7EB)
    - 圆角：8px (rounded-lg)
    - 选中状态：紫色边框 (#8B5CF6)，背景淡紫 (#F5F3FF)
    - 标题：16px，字重500
    - 描述：14px，字重400，灰色 (#6B7280)

- **AI问答选项**
  - 选项类型：多选问答
  - 样式规范：
    - 问题显示：16px，字重500
    - 选项列表：垂直排列
    - 选项高度：48px
    - 选项内边距：水平16px，垂直12px
    - 选项背景：白色 (#FFFFFF)
    - 选项边框：1px (#E5E7EB)
    - 选项圆角：6px (rounded-md)
    - 选中状态：紫色背景 (#F5F3FF)，紫色边框 (#8B5CF6)
    - 右侧勾选标记：圆形16px，白色勾对紫色背景

#### 6.6.6 主题色规范明细

- **主题色定义**：
  | 主题 | 用途 | 基础色 | 淡色 | 深色 | 超深色 |
  |------|------|---------|------|------|--------|
  | 蓝色系 | 今日任务 | #3B82F6 | #DBEAFE | #1E40AF | #1E3A8A |
  | 红色系 | 重要任务 | #EF4444 | #FEE2E2 | #991B1B | #7F1D1D |
  | 绿色系 | 所有任务 | #10B981 | #DCFCE7 | #166534 | #14532D |
  | 紫色系 | 目标 | #8B5CF6 | #F5F3FF | #5B21B6 | #4C1D95 |
  | 灰色系 | 中性/默认 | #6B7280 | #F9FAFB | #374151 | #1F2937 |

- **主题应用规则**
  - 页面背景：对应淡色
  - 主要文本：对应深色
  - 强调文本：对应超深色
  - 按钮背景：对应基础色
  - 项目高亮：对应基础色
  - 图标颜色：对应基础色或深色

#### 6.6.7 表单组件

- **输入框规范**
  - 高度：40px（标准），80px（多行）
  - 内边距：水平12px，垂直8px
  - 边框：1px (#E5E7EB)
  - 圆角：6px (rounded-md)
  - 聚焦状态：蓝色边框 (#3B82F6)，阴影 ring-2
  - 占位符：灰色 (#9CA3AF)，14px
  - 错误状态：红色边框 (#EF4444)，下方红色提示文本

- **按钮规范**
  - 主要按钮：
    - 高度：40px
    - 内边距：水平16px，垂直10px
    - 背景：主题色基础色
    - 文字：白色 (#FFFFFF)
    - 圆角：6px (rounded-md)
    - 悬停：深一级主题色
  - 次要按钮：
    - 高度：40px
    - 内边距：水平16px，垂直10px
    - 背景：白色 (#FFFFFF)
    - 边框：1px，主题色
    - 文字：主题色
    - 圆角：6px (rounded-md)
    - 悬停：淡色背景
  - 小型按钮：
    - 高度：32px
    - 内边距：水平12px，垂直6px
    - 字体：12px
  - 图标按钮：
    - 尺寸：36px或32px方形
    - 圆角：6px或9999px(圆形)
    - 居中图标

- **复选框规范**
  - 尺寸：16px（标准），20px（大型）
  - 未选中状态：白色背景，灰色边框 (#D1D5DB)
  - 选中状态：主题色背景，白色对勾
  - 圆角：4px
  - 动画：选中时缩放效果，150ms
  - 禁用状态：灰色背景 (#F3F4F6)，不可操作

- **切换开关规范**
  - 宽度：36px
  - 高度：20px
  - 开启状态：主题色背景，白色圆点靠右
  - 关闭状态：灰色背景 (#D1D5DB)，白色圆点靠左
  - 圆点尺寸：16px
  - 过渡动画：200ms
  - 轨道圆角：9999px (rounded-full)

#### 6.6.8 详细区域组件样式

- **已完成任务列表**
  - 背景：淡绿色 (#F0FDF4)
  - 圆角：8px (rounded-lg)
  - 内边距：16px
  - 分类标题：16px，字重500，绿色 (#10B981)
  - 任务列表：
    - 行高：36px
    - 复选框：16px，绿色勾选 (#10B981)
    - 完成任务：删除线，灰色 (#9CA3AF)
    - 任务标题字体：14px

- **未完成任务列表**
  - 背景：淡灰色 (#F9FAFB)
  - 圆角：8px (rounded-lg)
  - 内边距：16px
  - 分类标题：16px，字重500，灰色 (#374151)
  - 任务列表：
    - 行高：36px
    - 复选框：16px，对应状态
    - 任务标题字体：14px
    - 过期任务：红色提示文本
    - 当日任务：蓝色提示文本

- **空状态提示**
  - 居中显示
  - 图标：类型相关，48px
  - 文字：16px，灰色 (#6B7280)
  - 副文本：14px，浅灰色 (#9CA3AF)
  - 行动按钮（可选）：与主题匹配的按钮

## 7. AI 功能细节

### 7.1 任务建议生成

- **输入参数**
  - 任务标题
  - 用户资料信息
  - 最近任务反馈(如果有)

- **生成内容**
  - 3个任务建议选项
  - 每个建议针对不同方面(例如健康状况、效率等)

- **建议详细计划**
  - 任务描述
  - 5-8个子任务
  - 预计完成时间
  - 相关注意事项

### 7.2 目标分析与完善

- **输入参数**
  - 目标标题
  - 用户资料信息

- **分析过程**
  - 目标类型判断
  - 可行性评估
  - 明确性评估
  - 挑战性评估

- **澄清问题**
  - 多选问答形式
  - 问题针对目标模糊之处
  - 选项提供具体化方向

- **任务生成**
  - 基于目标和用户回答生成5-10个任务
  - 任务包含优先级建议
  - 任务描述具体可执行

- **时间规划**
  - 建议目标时间线
  - 关键里程碑时间点
  - 适合用户习惯的规划方式

### 7.3 反馈分析

- **输入参数**
  - 任务反馈文本
  - 历史反馈记录
  - 用户资料信息

- **分析维度**
  - 健康状况提取
  - 进度评估
  - 挑战识别
  - 情绪分析

- **提取规则**
  - 关键词匹配(中英文双语)
  - 句子级别语义分析
  - 上下文关联分析

## 8. 非功能需求

### 8.1 性能需求

- 页面加载时间：<2秒
- 任务列表渲染：支持200+任务流畅滚动
- AI响应时间：<5秒

### 8.2 安全要求

- 用户数据本地存储加密
- API通信HTTPS加密
- 敏感信息(如体重)可选填

### 8.3 可用性需求

- 支持键盘快捷键操作
- 支持拖放排序
- 颜色对比度符合WCAG 2.1 AA标准
- 自适应各种屏幕尺寸

### 8.4 可靠性需求

- AI服务不可用时提供降级方案
- 本地数据定期自动保存
- 操作错误可撤销

## 9. 限制与约束

- AI功能需要网络连接
- 目标生成需要DeepSeek API
- 默认存储在本地，无云端同步

## 10. 未来规划

### 10.1 功能扩展

- 团队协作功能
- 移动应用开发
- 数据同步与备份
- 高级数据分析与报告
- 多语言支持

### 10.2 技术优化

- AI模型本地部署
- 性能优化
- 离线工作模式
- 数据导入/导出
